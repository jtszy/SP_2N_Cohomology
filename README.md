# Replication details for "Inducing Spectral Gaps for the Cohomological Laplacians of $\text{Sp}_{2n}(\mathbb{Z})$"

This is the replication code for providing lower bounds for the spectral gaps of the cohomological Laplacians $\Delta_1$ related to the symplectic groups $\text{Sp}_{2n}(\mathbb{Z})$. More precisely, we provide lower bounds for $\lambda>0$ such that $\Delta_1-\lambda I$ is a sum of squares for $\text{Sp}_{2n}(\mathbb{Z})$ for $n\in\{2,3\}$ and a specific quotient of $\text{Sp}_{2n}(\mathbb{Z})$ for $n\geq 2$. The latter is the quotient by the normal subgroup generated by the commutators $[Z_i,Z_i^T]$, where $Z_i=I_{2n}+E_{i,i+n}$ with $E_{i,j}$ denoting the $2n\times 2n$ matrix filled with zeros except for the entry $(i,j)$. The detailed description of the presentation (i.e. the *Steinberg presentation*) taken into account in order to define $\Delta_1$ can be found in our article in section 2.

For the computations we used julia in version `1.11.2`.

## Getting Julia 1.11.2

To get the correct Julia version, first install [Juliaup](https://github.com/JuliaLang/juliaup), a cross-platform installer for Julia.

After installing Juliaup, install Julia in version `1.11.2` by running

```bash
juliaup add 1.11.2
```

## Obtaining code
To obtain the code for the replication, you can either download it directly from [Zenodo](TO FILL), or use git for this. In the latter case, first clone this repository via
```bash
git clone https://github.com/jtszy/SP_4_Cohomology.git
```

## Setting up the environment
First, run julia in the terminal in `SP_4_Cohomology` folder
```bash
julia --project=.
```
Next, to set up the proper environment for the replication run in julia REPL
```julia
julia> using Pkg; Pkg.instantiate()
```
This command installs and precompiles, if needed, all the necessary dependences,
so it may take a while.
Note that this step needs to be executed only once per installation.

## Running actual replication

### Steinberg presentations of $\text{Sp}_4(\mathbb{Z})$ and $\text{Sp}_6(\mathbb{Z})$
We wish to prove that for the Steinberg presentations of $\text{Sp}_4(\mathbb{Z})$ and $\text{Sp}_6(\mathbb{Z})$ on $8$ and $18$ generators respectively (as defined in TO FILL SECTION [TO FILL](TO FILL))
$\Delta_1-\lambda I_{12}$ and $\Delta_1-\lambda I_{18}$ is a sum of squares for $\lambda=0.0833$ and $\lambda=0.0302$ respectively. We provide also another version of calculations for Steinberg presentations, including some additional redundant relations. Even though the additional relations are redundant (i.e. the group remains unchanged) this leads to better estimates for the spectral gaps: $\lambda=0.1432$ for $\text{Sp}_4(\mathbb{Z})$ and $\lambda=0.0483$ for $\text{Sp}_6(\mathbb{Z})$.

Our scripts perform the necessary optimizations to find such sums of squares decomposition.

The following command needs to be executed in the terminal in `SP_4_Cohomology` folder:
```bash
julia --project=. ./scripts/SP_2N_Steinberg.jl n redundancy_flag
```
for running the whole replication script for $\text{Sp}_{2n}(\mathbb{Z})$ for $n=2$ and $n=3$ and the `redundancy_flag` equal to `true` or `false` regarding our choice to include the redundant relations.

The running time of the script will be approximately `25` minutes and `115` hours on a standard laptop computer for the cases $n=2$ and $n=3$ respectively. Therefore, in the latter case, we encourage to use the precomputed solution, focusing on the part providing the rigorous proof only.

To run the script which uses the precomputed solution for $\text{Sp}_6(\mathbb{Z})$ (stored in the file "Steinberg_Solution_Sp_6.sjl", where $n=2,3$) and provides rigorous proof (certification) of the result, the following command needs to be executed in the terminal in `SP_4_Cohomology` folder:
```bash
julia --project=. ./scripts/SP_6_replication_precomputed/SP_6_Steinberg_precomputed.jl redundancy_flag
```
The running time of the above script will be approximately `70` minutes on a standard laptop computer.

### $\Delta_1-\lambda I$ is a sum of squares for $\text{Sp}_{2n}(\mathbb{Z})/[Z_i,Z_i^T]$
This is the part responsible for the proof for the lower bound of the spectral gap of $\Delta_1$ for $\text{Sp}_{2n}(\mathbb{Z})/[Z_i,Z_i^T]$. The key idea is to use the induction technique and reduce the proof to two concrete calculations for $\text{Sp}_{6}(\mathbb{Z})/[Z_i,Z_i^T]$. More precisely, one distinguishes two particular summands of $\Delta_1^-$, denoted by $\text{Sq}^-$ and $\text{Adj}^-$. The two calculations mentioned before are then providing lower bounds for $\lambda$ in expressions $\text{Sq}^-+\Delta_1^+-\lambda I$ and $\text{Adj}^-+\Delta_1^+-\lambda I$. The latter is much more important since it is responsible for the proof for all $n$ starting from a particular one, which can be set to $3$ by the first calculation. The details can be found in our article. Below, we provide instructions to replicate the aforementioned lower bounds.
